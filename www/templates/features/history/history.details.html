<ion-view class="post-list-view">
  <ion-nav-title>瀏覧紀錄</ion-nav-title>
  <div class="spinner" ng-if="vm.chats.length == 0">
    <ir-spinner></ir-spinner>
  </div>
  <ion-nav-buttons side="right">
    <button class="button button-icon ion-ios-trash-outline" ng-click="vm.onClearHistory(vm.dateStr)"></button>
  </ion-nav-buttons>
  <ion-content>
    <ion-list>
      <ion-item
        ng-class-odd="'odd'"
        ng-class-even="'even'"
        class="item-icon-right item-text-wrap"
        ng-repeat="post in vm.histories | orderBy : post.createdAt track by $index"
        href="/tab/topics/{{::post.topicId}}/posts/{{::post.id}}/page/1"
      >
        <span class="fright less-important-info">{{::vm.relativeMomentizeTimestamp(post.createdAt)}}</span>
        <h2 class="bigger-title">
          {{::post.name}}
          <a ng-if="::post.tag">
            <small class="tag">#{{::post.tag}}</small>
          </a>
        </h2>
        <div>
          <i class="ion-bonfire" ng-if="::post.isSticky"></i>
          <i class="ion-ios-eye" ng-style="::post.isRead && {'color' : '#8BC34A'}"></i>
          <span class="less-important-info ion-person">{{::post.author.name}}</span>
          <span class="fright less-important-info">{{::post.count.reply}} / {{::post.count.view}}</span>
        </div>
        <div>
          <span class="less-important-info">{{::post.lastPost.timestamp}} @ {{::post.lastPost.name}}</span>
        </div>

        <i class="icon ion-chevron-right icon-accessory"></i>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>

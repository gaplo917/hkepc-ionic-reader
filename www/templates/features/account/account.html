<ion-view view-title="帳號管理">
    <ion-content>
        <div class="list" ng-if="vm.isReady && !vm.isLoggedIn" style="margin-bottom: 0">
            <label class="item item-input">
                <span class="input-label">登入名稱</span>
                <input type="text" placeholder="請輸入登入名稱" ng-model="vm.user.username">
            </label>
            <label class="item item-input">
                <span class="input-label">登入密碼</span>
                <input type="password" placeholder="請輸入登入密碼" ng-model="vm.user.password">
            </label>
            <ion-checkbox ng-if="vm.isProxy()" ng-model="vm.agreeProxy">我同意使用 Proxy 傳送資料</ion-checkbox>
            <div class="padding" ng-if="vm.isProxy()">
                <button class="button button-block button-assertive"
                        ng-class="vm.user.username && vm.user.password && vm.agreeProxy ? '' : 'disabled'"
                        ng-click="vm.login(vm.user.username,vm.user.password)">登入
                </button>
            </div>
            <div ng-if="!vm.isProxy()">
                <div class="padding">
                    <button class="button button-block button-assertive"
                            ng-click="vm.login(vm.user.username,vm.user.password)">登入
                    </button>
                </div>
            </div>
        </div>
        <div class="list" ng-if="vm.isReady && vm.isLoggedIn">
            <div class="padding">
                <button class="button button-block button-assertive" ng-click="vm.logout()">登出
                    {{vm.user.username}}
                </button>
            </div>
        </div>

        <div class="list" ng-if="vm.isReady && !vm.isLoggedIn">
            <p class="text-center">或</p>
            <div class="padding">
                <button class="button button-block button-positive"
                        onclick="window.open('https://www.hkepc.com/forum/base.php', '_system', 'location=yes')">
                    註冊成為新會員
                </button>
            </div>
        </div>


    </ion-content>
</ion-view>
